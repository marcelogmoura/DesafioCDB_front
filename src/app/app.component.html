<div class="container">
  <h1>{{ title }}</h1>

  <div class="form-container">
    <form #cdbForm="ngForm" (ngSubmit)="calcularCDB()">
      
      <div class="form-group">
        <label for="valorInicial">Valor Inicial (R$):</label>
        <input 
          type="number" 
          id="valorInicial" 
          name="valorInicial"
          [(ngModel)]="request.valorInicial"
          required
          min="0.01"
          step="0.01"
          placeholder="Ex: 1000.00"
        >
      </div>

      <div class="form-group">
        <label for="prazoMeses">Prazo em Meses ( > 1):</label>
        <input 
          type="number" 
          id="prazoMeses" 
          name="prazoMeses"
          [(ngModel)]="request.prazoEmMeses"
          required
          min="2"
          step="1"
          placeholder="Ex: 12"
        >
      </div>

      <button type="submit" [disabled]="cdbForm.invalid || loading">
        {{ loading ? 'Calculando...' : 'Calcular CDB' }}
      </button>

    </form>
    
    <div *ngIf="errorMessage" class="error-message">
      <p>Erro: {{ errorMessage }}</p>
    </div>

    <div *ngIf="response" class="result-container">
      <h2>Resultado do Investimento</h2>
      
      <div class="result-item">
        <span class="label">Valor Bruto:</span>
        <span class="value bruto">{{ formatarMoeda(response.resultadoBruto) }}</span>
      </div>

      <div class="result-item">
        <span class="label">Valor Líquido:</span>
        <span class="value liquido">{{ formatarMoeda(response.resultadoLiquido) }}</span>
      </div>

      <p class="nota">Os valores apresentados já consideram a dedução do Imposto de Renda.</p>
    </div>
  </div>
</div>